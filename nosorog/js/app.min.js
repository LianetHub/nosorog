(()=>{"use strict";function e(e,t,n,o){void 0===t&&(t=400),void 0===o&&(o=!1),e.style.overflow="hidden",o&&(e.style.display="block");var a,s=window.getComputedStyle(e),i=parseFloat(s.getPropertyValue("height")),r=parseFloat(s.getPropertyValue("padding-top")),l=parseFloat(s.getPropertyValue("padding-bottom")),c=parseFloat(s.getPropertyValue("margin-top")),d=parseFloat(s.getPropertyValue("margin-bottom")),u=i/t,p=r/t,g=l/t,m=c/t,y=d/t;window.requestAnimationFrame((function s(v){void 0===a&&(a=v);var f=v-a;o?(e.style.height=u*f+"px",e.style.paddingTop=p*f+"px",e.style.paddingBottom=g*f+"px",e.style.marginTop=m*f+"px",e.style.marginBottom=y*f+"px"):(e.style.height=i-u*f+"px",e.style.paddingTop=r-p*f+"px",e.style.paddingBottom=l-g*f+"px",e.style.marginTop=c-m*f+"px",e.style.marginBottom=d-y*f+"px"),f>=t?(e.style.height="",e.style.paddingTop="",e.style.paddingBottom="",e.style.marginTop="",e.style.marginBottom="",e.style.overflow="",o||(e.style.display="none"),"function"==typeof n&&n()):window.requestAnimationFrame(s)}))}document.addEventListener("DOMContentLoaded",(()=>{const e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};function t(){e.any()||window.innerWidth<992?(document.body.classList.remove("_pc"),document.body.classList.add("_touch")):(document.body.classList.remove("_touch"),document.body.classList.add("_pc"))}t(),window.addEventListener("resize",(()=>{t()}));var n=document.querySelectorAll('input[type="tel"]'),o=function(e){return e.value.replace(/\D/g,"")},a=function(e){var t=e.target,n=o(t),a=e.clipboardData||window.clipboardData;if(a){var s=a.getData("Text");if(/\D/g.test(s))return void(t.value=n)}},s=function(e){var t=e.target,n=o(t),a=t.selectionStart,s="";if(!n)return t.value="";if(t.value.length==a){if(["7","8","9"].indexOf(n[0])>-1){"9"==n[0]&&(n="7"+n);var i="8"==n[0]?"8":"+7";s=t.value=i+" ",n.length>1&&(s+="("+n.substring(1,4)),n.length>=5&&(s+=") "+n.substring(4,7)),n.length>=8&&(s+="-"+n.substring(7,9)),n.length>=10&&(s+="-"+n.substring(9,11))}else s="+"+n.substring(0,16);t.value=s}else e.data&&/\D/g.test(e.data)&&(t.value=n)},i=function(e){var t=e.target.value.replace(/\D/g,"");8==e.keyCode&&1==t.length&&(e.target.value="")};for(var r of n)r.addEventListener("keydown",i),r.addEventListener("input",s,!1),r.addEventListener("paste",a,!1);const l=document.querySelectorAll("[data-spollers]");if(l.length>0){const c=Array.from(l).filter((function(e,t,n){return!e.dataset.spollers.split(",")[0]}));c.length>0&&u(c);const d=Array.from(l).filter((function(e,t,n){return e.dataset.spollers.split(",")[0]}));if(d.length>0){const y=[];d.forEach((e=>{const t={},n=e.dataset.spollers.split(",");t.value=n[0],t.type=n[1]?n[1].trim():"max",t.item=e,y.push(t)}));let v=y.map((function(e){return"("+e.type+"-width: "+e.value+"px),"+e.value+","+e.type}));v=v.filter((function(e,t,n){return n.indexOf(e)===t})),v.forEach((e=>{const t=e.split(","),n=t[1],o=t[2],a=window.matchMedia(t[0]),s=y.filter((function(e){if(e.value===n&&e.type===o)return!0}));a.addListener((function(){u(s,a)})),u(s,a)}))}function u(e,t=!1){e.forEach((e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("_init"),p(e),e.addEventListener("click",g)):(e.classList.remove("_init"),p(e,!1),e.removeEventListener("click",g))}))}function p(e,t=!0){const n=e.querySelectorAll("[data-spoller]");n.length>0&&n.forEach((e=>{t?(e.removeAttribute("tabindex"),e.classList.contains("_active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)}))}function g(e){const t=e.target;if(t.hasAttribute("data-spoller")||t.closest("[data-spoller]")){const n=t.hasAttribute("data-spoller")?t:t.closest("[data-spoller]"),o=n.closest("[data-spollers]"),a=!!o.hasAttribute("data-one-spoller");o.querySelectorAll("._slide").length||(a&&!n.classList.contains("_active")&&m(o),n.classList.toggle("_active"),n.nextElementSibling.slideToggle(300)),e.preventDefault()}}function m(e){const t=e.querySelector("[data-spoller]._active");t&&(t.classList.remove("_active"),t.nextElementSibling.slideUp(300))}}document.addEventListener("click",(e=>{const t=e.target;if(t.classList.contains("search__btn")&&(document.querySelector(".search").classList.contains("active")?hideSearch():getSearch()),(t.closest(".icon-menu")||t.classList.contains("menu__close"))&&(document.querySelector(".header").classList.toggle("open-menu"),function(e){const t=document.body;let n,o="lock";t.classList.contains(o)?(n=parseInt(document.body.dataset.position,10),t.dataset.position=n,t.style.top=-n+"px"):(n=window.scrollY,t.style.top="auto",window.scroll({top:n,left:0}),document.body.removeAttribute("data-position"));let a=t.classList.contains(o)?"0px":window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";t.style.paddingRight=a,t.classList.toggle(o)}()),t.classList.contains("menu__arrow")){let e=t.nextElementSibling;document.querySelector(".menu__arrow.active")!==t&&(document.querySelector(".submenu.open")&&document.querySelector(".submenu.open").classList.remove("open"),document.querySelector(".menu__arrow.active")&&document.querySelector(".menu__arrow.active").classList.remove("active")),e.classList.toggle("open"),t.classList.toggle("active")}t.matches(".article__full")&&(t.classList.toggle("active"),t.parentNode.classList.toggle("active"),t.classList.contains("active")?t.textContent="Скрыть":t.textContent="Развернуть")})),document.querySelector(".promo__slider")&&new Swiper(".promo__slider",{slidesPerView:1,speed:800,loop:!0,autoplay:{delay:8e3,stopOnLastSlide:!1},effect:"fade",fadeEffect:{crossFade:!0},navigation:{prevEl:".promo__controls-prev",nextEl:".promo__controls-next"},on:{init:e=>{const t=e.navigation.nextEl;let n=e.params.speed,o=e.params.autoplay.delay;t.style.setProperty("--counting-speed",(n+o)/1e3+"s"),t.classList.add("counting")},slideChangeTransitionStart:e=>{const t=e.navigation.nextEl;t.classList.remove("counting"),t.offsetWidth,t.classList.add("counting")}}}),document.querySelector(".cases__slider-block")&&new Swiper(".cases__slider-block",{spaceBetween:15,slidesPerView:1,watchSlidesProgress:!0,navigation:{nextEl:".cases__next",prevEl:".cases__prev"},breakpoints:{991.98:{slidesPerView:2,spaceBetween:18}}}),document.querySelectorAll(".range__input")?.forEach((e=>{const t=+e.min||0,n=+e.max||100,o=()=>{const o=Math.round(100*(+e.value-t)/(n-t));e.style.setProperty("--precent",`${o}%`)};e.addEventListener("input",(()=>{o()})),o()})),document.querySelectorAll(".calc__form")?.forEach((e=>{const t=e.dataset.calc||"invest",n=e.querySelector('input[name="sum"]'),o=e.querySelector('input[name="term"]'),a=e.querySelector(".sum-value"),s=e.querySelector(".term-value"),i=e.querySelector(".annual-value"),r=parseFloat(i.textContent)||25,l=e.querySelector(".calc__form-total-value-current"),c=e.querySelector(".calc__form-total-value-old");function d(e){return e>=1e7?`${(e/1e6).toFixed(0)} млн ₽`:e.toLocaleString("ru-RU").replace(/\s/g," ")+" ₽"}function u(){const i=parseInt(n.value,10),u=parseInt(o.value,10),p=r/100;var g;if(a.textContent=d(i),s.textContent=`${u} ${g=u,g%10==1&&g%100!=11?"год":[2,3,4].includes(g%10)&&![12,13,14].includes(g%100)?"года":"лет"}`,"loan"===t){const e=Math.round(i*p*u),t=Math.round(2*e);l&&c&&(l.textContent=d(e),c.textContent=d(t))}else{const t=Math.round(i*Math.pow(1+p,u))-i,n=e.querySelector(".calc__form-total-value");n&&(n.textContent=d(t))}}n.addEventListener("input",u),o.addEventListener("input",u),u()}))})),"undefined"!=typeof Fancybox&&null!==Fancybox&&Fancybox.bind("[data-fancybox]",{dragToClose:!1,closeButton:!1}),HTMLElement.prototype.slideToggle=function(t,n){0===this.clientHeight?e(this,t,n,!0):e(this,t,n)},HTMLElement.prototype.slideUp=function(t,n){e(this,t,n)},HTMLElement.prototype.slideDown=function(t,n){e(this,t,n,!0)}})();