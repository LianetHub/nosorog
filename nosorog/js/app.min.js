(()=>{"use strict";function e(e,t,n,o){void 0===t&&(t=400),void 0===o&&(o=!1),e.style.overflow="hidden",o&&(e.style.display="block");var s,i=window.getComputedStyle(e),r=parseFloat(i.getPropertyValue("height")),l=parseFloat(i.getPropertyValue("padding-top")),a=parseFloat(i.getPropertyValue("padding-bottom")),c=parseFloat(i.getPropertyValue("margin-top")),u=parseFloat(i.getPropertyValue("margin-bottom")),d=r/t,p=l/t,m=a/t,y=c/t,_=u/t;window.requestAnimationFrame((function i(g){void 0===s&&(s=g);var v=g-s;o?(e.style.height=d*v+"px",e.style.paddingTop=p*v+"px",e.style.paddingBottom=m*v+"px",e.style.marginTop=y*v+"px",e.style.marginBottom=_*v+"px"):(e.style.height=r-d*v+"px",e.style.paddingTop=l-p*v+"px",e.style.paddingBottom=a-m*v+"px",e.style.marginTop=c-y*v+"px",e.style.marginBottom=u-_*v+"px"),v>=t?(e.style.height="",e.style.paddingTop="",e.style.paddingBottom="",e.style.marginTop="",e.style.marginBottom="",e.style.overflow="",o||(e.style.display="none"),"function"==typeof n&&n()):window.requestAnimationFrame(i)}))}document.addEventListener("DOMContentLoaded",(()=>{const e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};function t(){e.any()||window.innerWidth<992?(document.body.classList.remove("_pc"),document.body.classList.add("_touch")):(document.body.classList.remove("_touch"),document.body.classList.add("_pc"))}t(),window.addEventListener("resize",(()=>{t()}));var n=document.querySelectorAll('input[type="tel"]'),o=function(e){return e.value.replace(/\D/g,"")},s=function(e){var t=e.target,n=o(t),s=e.clipboardData||window.clipboardData;if(s){var i=s.getData("Text");if(/\D/g.test(i))return void(t.value=n)}},i=function(e){var t=e.target,n=o(t),s=t.selectionStart,i="";if(!n)return t.value="";if(t.value.length==s){if(["7","8","9"].indexOf(n[0])>-1){"9"==n[0]&&(n="7"+n);var r="8"==n[0]?"8":"+7";i=t.value=r+" ",n.length>1&&(i+="("+n.substring(1,4)),n.length>=5&&(i+=") "+n.substring(4,7)),n.length>=8&&(i+="-"+n.substring(7,9)),n.length>=10&&(i+="-"+n.substring(9,11))}else i="+"+n.substring(0,16);t.value=i}else e.data&&/\D/g.test(e.data)&&(t.value=n)},r=function(e){var t=e.target.value.replace(/\D/g,"");8==e.keyCode&&1==t.length&&(e.target.value="")};for(var l of n)l.addEventListener("keydown",r),l.addEventListener("input",i,!1),l.addEventListener("paste",s,!1);const a=document.querySelectorAll("[data-spollers]");if(a.length>0){const p=Array.from(a).filter((function(e,t,n){return!e.dataset.spollers.split(",")[0]}));p.length>0&&y(p);const m=Array.from(a).filter((function(e,t,n){return e.dataset.spollers.split(",")[0]}));if(m.length>0){const f=[];m.forEach((e=>{const t={},n=e.dataset.spollers.split(",");t.value=n[0],t.type=n[1]?n[1].trim():"max",t.item=e,f.push(t)}));let w=f.map((function(e){return"("+e.type+"-width: "+e.value+"px),"+e.value+","+e.type}));w=w.filter((function(e,t,n){return n.indexOf(e)===t})),w.forEach((e=>{const t=e.split(","),n=t[1],o=t[2],s=window.matchMedia(t[0]),i=f.filter((function(e){if(e.value===n&&e.type===o)return!0}));s.addListener((function(){y(i,s)})),y(i,s)}))}function y(e,t=!1){e.forEach((e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("_init"),_(e),e.addEventListener("click",g)):(e.classList.remove("_init"),_(e,!1),e.removeEventListener("click",g))}))}function _(e,t=!0){const n=e.querySelectorAll("[data-spoller]");n.length>0&&n.forEach((e=>{t?(e.removeAttribute("tabindex"),e.classList.contains("_active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)}))}function g(e){const t=e.target;if(t.hasAttribute("data-spoller")||t.closest("[data-spoller]")){const n=t.hasAttribute("data-spoller")?t:t.closest("[data-spoller]"),o=n.closest("[data-spollers]"),s=!!o.hasAttribute("data-one-spoller");o.querySelectorAll("._slide").length||(s&&!n.classList.contains("_active")&&v(o),n.classList.toggle("_active"),n.nextElementSibling.slideToggle(300)),e.preventDefault()}}function v(e){const t=e.querySelector("[data-spoller]._active");t&&(t.classList.remove("_active"),t.nextElementSibling.slideUp(300))}}document.addEventListener("click",(e=>{const t=e.target,n=document.querySelector(".header__menu"),o=document.querySelector(".menu__header"),s=document.querySelector(".menu__location"),i=document.querySelector(".menu__caption");if((t.closest(".icon-menu")||t.classList.contains("menu__close"))&&(document.querySelector(".header").classList.toggle("open-menu"),function(e){const t=document.body;let n,o="lock";t.classList.contains(o)?(n=parseInt(document.body.dataset.position,10),t.dataset.position=n,t.style.top=-n+"px"):(n=window.scrollY,t.style.top="auto",window.scroll({top:n,left:0}),document.body.removeAttribute("data-position"));let s=t.classList.contains(o)?"0px":window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";t.style.paddingRight=s,t.classList.toggle(o)}()),t.classList.contains("menu__arrow")){let e=t.nextElementSibling;const r=t.previousElementSibling?t.previousElementSibling.textContent:"";document.querySelector(".menu__arrow.active")!==t&&(document.querySelector(".submenu.open")&&document.querySelector(".submenu.open").classList.remove("open"),document.querySelector(".menu__arrow.active")&&document.querySelector(".menu__arrow.active").classList.remove("active"),document.querySelector(".subsubmenu.open")&&document.querySelector(".subsubmenu.open").classList.remove("open"),document.querySelector(".submenu__arrow.active")&&document.querySelector(".submenu__arrow.active").classList.remove("active"),c(n,"second-menu-open",!1)),e&&e.classList.toggle("open"),t.classList.toggle("active"),e&&e.classList.contains("open")?(c(o,"hidden",!1),c(s,"hidden"),u(i,r),c(n,"first-menu-open")):(c(o,"hidden"),c(s,"hidden",!1),u(i,""),c(n,"first-menu-open",!1))}if(t.classList.contains("submenu__arrow")){let e=t.nextElementSibling;const o=t.previousElementSibling?t.previousElementSibling.textContent:"";if(document.querySelector(".submenu__arrow.active")!==t&&(document.querySelector(".subsubmenu.open")&&document.querySelector(".subsubmenu.open").classList.remove("open"),document.querySelector(".submenu__arrow.active")&&document.querySelector(".submenu__arrow.active").classList.remove("active")),e&&e.classList.toggle("open"),t.classList.toggle("active"),e&&e.classList.contains("open"))u(i,o),c(n,"second-menu-open");else{const e=t.closest(".submenu__item")?t.closest(".submenu__item").querySelector(".submenu__link"):null;if(e)u(i,e.textContent);else{const e=document.querySelector(".menu__arrow.active");e&&e.previousElementSibling&&u(i,e.previousElementSibling.textContent)}c(n,"second-menu-open",!1)}}if(t.classList.contains("menu__back")){const e=document.querySelector(".subsubmenu.open");if(e){e.classList.remove("open");const t=document.querySelector(".submenu__arrow.active");t&&t.classList.remove("active");const o=document.querySelector(".submenu.open");if(o){const e=o.closest(".menu__item")?o.closest(".menu__item").querySelector(".menu__link"):null;u(i,e?e.textContent:"")}c(n,"second-menu-open",!1)}else{const e=document.querySelector(".submenu.open");if(e){e.classList.remove("open");const t=document.querySelector(".menu__arrow.active");t&&t.classList.remove("active")}c(o,"hidden"),c(s,"hidden",!1),u(i,""),c(n,"first-menu-open",!1)}}if(t.matches(".case__scheme-btn")){const e=t.closest(".case__scheme-tabs"),n=t.closest(".case__scheme").querySelector(".case__scheme-content");if(e&&n){e.querySelectorAll(".case__scheme-btn").forEach((e=>{e.classList.remove("active")})),t.classList.add("active");const o=Array.from(e.children).indexOf(t);n.querySelectorAll(".case__scheme-block").forEach((e=>{e.classList.remove("active")})),n.children[o]&&n.children[o].classList.add("active")}}}));const c=(e,t,n=!0)=>{e&&(n?e.classList.add(t):e.classList.remove(t))},u=(e,t)=>{e&&(e.textContent=t)};function d(e,t){let n=!1,o=null;function s(){window.innerWidth<=1023.98?n||(n=!0,o=new Swiper(e,t)):n&&(o.destroy(),o=null,n=!1)}s(),window.addEventListener("resize",s)}if(document.querySelector(".promo__slider")&&new Swiper(".promo__slider",{slidesPerView:1,speed:800,loop:!0,autoplay:{delay:8e3,stopOnLastSlide:!1},effect:"fade",fadeEffect:{crossFade:!0},navigation:{prevEl:".promo__controls-prev",nextEl:".promo__controls-next"},on:{init:e=>{const t=e.navigation.nextEl;let n=e.params.speed,o=e.params.autoplay.delay;t.style.setProperty("--counting-speed",(n+o)/1e3+"s"),t.classList.add("counting")},slideChangeTransitionStart:e=>{const t=e.navigation.nextEl;t.classList.remove("counting"),t.offsetWidth,t.classList.add("counting")}}}),document.querySelectorAll(".project").length>0&&document.querySelectorAll(".project").forEach((e=>{const t=e.querySelector(".project__slider"),n=e.querySelector(".project__thumbs"),o=e.querySelector(".project__controls-prev"),s=e.querySelector(".project__controls-next"),i=new Swiper(n,{spaceBetween:5,slidesPerView:3,freeMode:!0,loop:!0,watchSlidesProgress:!0,breakpoints:{1023.98:{slidesPerView:"auto"}}});new Swiper(t,{spaceBetween:10,loop:!0,effect:"fade",fadeEffect:{crossFade:!0},autoplay:{delay:8e3,stopOnLastSlide:!1},navigation:{nextEl:s,prevEl:o},thumbs:{swiper:i},on:{init:e=>{const t=e.navigation.nextEl;let n=e.params.speed,o=e.params.autoplay.delay;t.style.setProperty("--counting-speed",(n+o)/1e3+"s"),t.classList.add("counting")},slideChangeTransitionStart:e=>{const t=e.navigation.nextEl;t.classList.remove("counting"),t.offsetWidth,t.classList.add("counting")}}})})),document.querySelectorAll(".prices__cases")&&new Swiper(".prices__cases",{slidesPerView:"auto",spaceBetween:16}),document.querySelectorAll(".filters").length>0&&document.querySelectorAll(".filters").forEach((e=>{new Swiper(e,{slidesPerView:"auto"})})),document.querySelector(".reviews__slider")&&new Swiper(".reviews__slider",{slidesPerView:1,speed:800,loop:!0,autoplay:{delay:8e3,stopOnLastSlide:!1},navigation:{prevEl:".reviews__prev",nextEl:".reviews__next"},on:{init:e=>{const t=e.navigation.nextEl;let n=e.params.speed,o=e.params.autoplay.delay;t.style.setProperty("--counting-speed",(n+o)/1e3+"s"),t.classList.add("counting")},slideChangeTransitionStart:e=>{const t=e.navigation.nextEl;t.classList.remove("counting"),t.offsetWidth,t.classList.add("counting")}}}),document.querySelector(".service__slider")&&new Swiper(".service__slider",{slidesPerView:1,speed:800,loop:!0,autoplay:{delay:8e3,stopOnLastSlide:!1},navigation:{prevEl:".service__prev",nextEl:".service__next"},on:{init:e=>{const t=e.navigation.nextEl;let n=e.params.speed,o=e.params.autoplay.delay;t.style.setProperty("--counting-speed",(n+o)/1e3+"s"),t.classList.add("counting")},slideChangeTransitionStart:e=>{const t=e.navigation.nextEl;t.classList.remove("counting"),t.offsetWidth,t.classList.add("counting")}}}),document.querySelector(".options__slider")&&d(".options__slider",{slidesPerView:"auto",spaceBetween:16}),document.querySelector(".portfolio__slider")&&new Swiper(".portfolio__slider",{spaceBetween:16,slidesPerView:1.15,navigation:{nextEl:".portfolio__next",prevEl:".portfolio__prev"},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1279.98:{slidesPerView:3,spaceBetween:24}}}),document.querySelector(".blog__slider")&&new Swiper(".blog__slider",{spaceBetween:16,loop:!0,slidesPerView:1.15,autoplay:{delay:8e3,stopOnLastSlide:!1},navigation:{nextEl:".blog__slider-next",prevEl:".blog__slider-prev"},breakpoints:{768:{slidesPerView:2},1279.98:{slidesPerView:3},1439.98:{slidesPerView:4}},on:{init:e=>{const t=e.navigation.nextEl;let n=e.params.speed,o=e.params.autoplay.delay;t.style.setProperty("--counting-speed",(n+o)/1e3+"s"),t.classList.add("counting")},slideChangeTransitionStart:e=>{const t=e.navigation.nextEl;t.classList.remove("counting"),t.offsetWidth,t.classList.add("counting")}}}),document.querySelector(".team__slider")&&new Swiper(".team__slider",{spaceBetween:24,slidesPerView:"auto",navigation:{nextEl:".team__slider-next",prevEl:".team__slider-prev"},breakpoints:{767.98:{slidesPerView:2},1279.98:{slidesPerView:3}}}),document.querySelector(".cases__slider")&&new Swiper(".cases__slider",{spaceBetween:16,slidesPerView:"auto"}),document.querySelector(".gallery__slider")&&d(".gallery__slider",{spaceBetween:8,slidesPerView:"auto"}),document.querySelectorAll(".range__input")?.forEach((e=>{const t=e.closest(".range")?.querySelector(".range__output"),n=+e.min||0,o=+e.max||100,s=()=>{const s=Math.round(100*(+e.value-n)/(o-n));e.style.setProperty("--precent",`${s}%`),t&&(t.textContent=`${e.value}`)};e.addEventListener("input",(()=>{s()})),s()})),document.querySelector(".quiz")){const S=document.querySelector(".quiz__form"),h=document.querySelectorAll(".quiz__step"),b=document.querySelector(".quiz__progress-bar"),L=document.querySelector(".quiz__progress-precent"),q=document.querySelector('.range__input[name="area"]'),E=document.querySelector(".range__output");let x=0;q&&E&&(E.textContent=q.value);const A=()=>{const e=h.length-1,t=x/e*100;b.value=t,L.textContent=`${Math.round(t)}%`},P=e=>{h.forEach(((t,n)=>{n===e?t.classList.add("active"):t.classList.remove("active")})),x=e,A()};S.querySelectorAll("[data-next-step]").forEach((e=>{e.addEventListener("click",(()=>{if(0===x){if(!S.querySelector('input[name="rate"]:checked'))return void alert("Пожалуйста, выберите тариф.")}else if(1===x){if(0===S.querySelectorAll('input[name="room_type"]:checked').length)return void alert("Пожалуйста, выберите хотя бы одно помещение.")}else if(2===x){if(!S.querySelector('input[name="interior_style"]:checked'))return void alert("Пожалуйста, выберите стиль интерьера.")}else if(3===x&&!document.getElementById("quiz-phone").value.trim())return void alert("Пожалуйста, введите ваш номер телефона.");x<h.length-1&&P(x+1)}))})),S.querySelectorAll("[data-prev-step]").forEach((e=>{e.addEventListener("click",(()=>{x>0&&P(x-1)}))})),q&&E&&q.addEventListener("input",(()=>{E.textContent=q.value})),S.addEventListener("submit",(e=>{e.preventDefault();const t=new FormData(S),n={};for(let[e,o]of t.entries())"room_type"===e?(n[e]||(n[e]=[]),n[e].push(o)):n[e]=o;console.log("Quiz data submitted:",n),setTimeout((()=>{P(h.length-1),S.reset(),b.value=100,L.textContent="100%"}),500)})),P(0)}})),"undefined"!=typeof Fancybox&&null!==Fancybox&&Fancybox.bind("[data-fancybox]",{dragToClose:!1,closeButton:!1}),HTMLElement.prototype.slideToggle=function(t,n){0===this.clientHeight?e(this,t,n,!0):e(this,t,n)},HTMLElement.prototype.slideUp=function(t,n){e(this,t,n)},HTMLElement.prototype.slideDown=function(t,n){e(this,t,n,!0)}})();